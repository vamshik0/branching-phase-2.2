{
  "id": "d13a2d9c-ba92-48b3-859f-173f7db75889",
  "name": "createRewardResponseHandler",
  "options": {
    "code": "const milestoneRewardObj = createMilestoneReward.data.milestone_reward;\nconst rewardRedeemOrderCountMap = {\n  \"Reward 1\": rewardRedeemOrderCount1.value,\n  \"Reward 2\": rewardRedeemOrderCount2.value,\n  \"Reward 3\": rewardRedeemOrderCount3.value,\n  \"Reward 4\": rewardRedeemOrderCount4.value,\n  \"Reward 5\": rewardRedeemOrderCount5.value,\n};\n\nconst rewardHeaderMap = {\n  \"Reward 1\": rewardHeader1,\n  \"Reward 2\": rewardHeader2,\n  \"Reward 3\": rewardHeader3,\n  \"Reward 4\": rewardHeader4,\n  \"Reward 5\": rewardHeader5,\n};\n\nif (milestoneRewardObj && milestoneRewardObj.reward_id) {\n  utils.showNotification({\n    title: \"SUCCESS\",\n    description: `Reward created successfully. Reward ID: ${milestoneRewardObj.reward_id}`,\n    notificationType: \"success\",\n    duration: 5,\n  });\n  rewardHeaderMap[steppedRewardContainer.currentViewKey].setValue(\n    `Reward created successfully. Reward ID: ${milestoneRewardObj.reward_id}`\n  );\n  const rewardObj = {\n    reward_key: steppedRewardContainer.currentViewKey,\n    reward_id: milestoneRewardObj.reward_id,\n    reward_redeem_order_count:\n      rewardRedeemOrderCountMap[steppedRewardContainer.currentViewKey],\n  };\n  let rewardArray = rewards;\n\n  // Find index of an object with the same reward_key\n  let index = rewardArray.value.findIndex(\n    (item) => item.reward_key === rewardObj.reward_key\n  );\n\n  if (index !== -1) {\n    // If an object with the same reward_key is found, override it\n    rewardArray.value[index] = rewardObj;\n  } else {\n    // If no object with the same reward_key is found,\n    // check for unique reward_id before pushing\n    const isRewardIdExisting = rewardArray.value.some(\n      (item) => item.reward_id === rewardObj.reward_id\n    );\n    if (!isRewardIdExisting) {\n      rewardArray.value.push(rewardObj);\n    }\n  }\n\n  rewards.setValue(rewardArray.value);\n} else {\n  utils.showNotification({\n    title: \"ERROR\",\n    description: \"Something went wrong while creating the reward\",\n    notificationType: \"Error\",\n    duration: 5,\n  });\n}\n",
    "parameters": [],
    "runOnPageLoad": false
  },
  "dataSourceId": "424c9bde-1c88-4787-af40-e905d3ecfd6c",
  "appVersionId": "d74f28e3-ec1b-4ff9-b6e6-b777a4e48b56"
}