{
  "id": "d8c91102-7239-4a4c-8b87-3e8fe18af90c",
  "name": "editFlowRewardInitialiser",
  "options": {
    "code": "const rewardDetails = getMilestoneReward.data?.milestone_reward\n\nfunction googleTimeToDate(seconds, nanos) {\n    // Convert seconds to milliseconds and add nanoseconds converted to milliseconds\n    const milliseconds = (seconds * 1000) + (nanos / 1000000);\n    return new Date(milliseconds);\n}\n\nfunction convertDurationToDays(duration) {\n    const seconds = parseInt(duration?.seconds, 10);\n    const nanos = duration?.nanos;\n\n    const totalSeconds = seconds + nanos / 1000000000;\n    const days = totalSeconds / (24 * 3600);\n\n    return days;\n}\n\nrewardStatusEditFlow.setValue(rewardDetails?.is_active)\nrewardNameInputEditFlow.setValue(rewardDetails?.reward_name)\nbusinessLineSelectorEditFlow.setValue(rewardDetails?.reward_data?.benefit_data?.offer_data?.marketplace_context?.business_line_id || BUSINESS_LINES.value[0])\nrewardOfferTemplateIdEditFlow.setValue(rewardDetails?.reward_data?.benefit_data?.offer_data?.template_id || rewardDetails?.reward_data?.benefit_data?.swiggy_one_data?.plan_id)\nrewardTypeInputEditFlow.setValue(rewardDetails?.reward_data?.benefit_data?.reward_type)\nrewardDescriptionInputEditFlow.setValue(rewardDetails?.reward_description)\n\nconst rewardPresentationData = rewardDetails?.reward_data?.reward_presentation_data\n\n// set the details of the locked fields\nrewardLockedHeadingEditFlow.setValue(rewardPresentationData?.[0]?.title)\nrewardLockedDescriptionEditFlow.setValue(rewardPresentationData?.[0]?.description)\nrewardLockedCtaCalloutEditFlow.setValue(rewardPresentationData?.[0]?.cta?.text)\nrewardLockedCtaLinkEditFlow.setValue(rewardPresentationData?.[0]?.cta?.link)\n\n// For Unlocked fields\nrewardUnlockedHeadingEditFlow.setValue(rewardPresentationData?.[1]?.title)\nrewardUnlockedDescriptionEditFlow.setValue(rewardPresentationData?.[1]?.description)\nrewardUnlockedCtaCalloutEditFlow.setValue(rewardPresentationData?.[1]?.cta?.text)\nrewardUnlockedCtaLinkEditFlow.setValue(rewardPresentationData?.[1]?.cta?.link)\n\n// For Redeemed fields\nrewardRedeemedHeadingEditFlow.setValue(rewardPresentationData?.[3]?.title)\nrewardRedeemedDescriptionEditFlow.setValue(rewardPresentationData?.[3]?.description)\nrewardRedeemedCtaCalloutEditFlow.setValue(rewardPresentationData?.[3]?.cta?.text)\nrewardRedeemedCtaLinkEditFlow.setValue(rewardPresentationData?.[3]?.cta?.link)\n\n// For Expired fields\nrewardExpiredHeadingEditFlow.setValue(rewardPresentationData?.[2]?.title)\nrewardExpiredDescriptionEditFlow.setValue(rewardPresentationData?.[2]?.description)\nrewardExpiredCtaCalloutEditFlow.setValue(rewardPresentationData?.[2]?.cta?.text)\nrewardExpiredCtaLinkEditFlow.setValue(rewardPresentationData?.[2]?.cta?.link)\n\nlet durationObject = rewardDetails?.reward_data?.benefit_data?.offer_data?.offer_duration ||  rewardDetails?.reward_data?.benefit_data?.swiggy_one_data?.plan_duration\nrewardDurationEditFlow.setValue(convertDurationToDays(durationObject))\n\nrewardCreatedBy.setValue(rewardDetails?.created_by)\nrewardUpdatedBy.setValue(rewardDetails?.updated_by)\nrewardCreatedAt.setValue(googleTimeToDate(rewardDetails?.created_at?.seconds,rewardDetails?.created_at?.nanos))\nrewardUpdatedAt.setValue(googleTimeToDate(rewardDetails?.updated_at?.seconds,rewardDetails?.updated_at?.nanos))\n",
    "parameters": [],
    "runOnPageLoad": false
  },
  "dataSourceId": "424c9bde-1c88-4787-af40-e905d3ecfd6c",
  "appVersionId": "d74f28e3-ec1b-4ff9-b6e6-b777a4e48b56"
}